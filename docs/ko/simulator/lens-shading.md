---
title: 렌즈 쉐이딩 시뮬레이터
---

# 렌즈 쉐이딩 시뮬레이터

CRA(주광선 각도), 마이크로렌즈 시프트, cos^4 감쇄를 기반으로 센서 전면의 상대 조도를 시뮬레이션합니다. 채널별 색 쉐이딩을 시각화합니다.

<LensShadingSimulator />

## 상대 조도 모델

**RI(r) = cos^4(CRA) x ML_coupling x CF_shift**

### cos^4 법칙
CRA의 코사인 4제곱에 따른 기하학적 비네팅으로 중심에서 가장자리로 밝기가 감소합니다.

### 마이크로렌즈 커플링
CRA가 마이크로렌즈 수광각을 초과하면 집광 효율이 급감합니다. ML 시프트 비율은 마이크로렌즈 위치 이동으로 CRA를 보상하는 정도를 제어합니다.

### 색 쉐이딩
채널마다 다른 쉐이딩이 발생합니다:
- Blue는 흡수 깊이가 얕아 각도 민감도가 높음
- Red는 실리콘 깊이 침투하여 각도 민감도가 낮음
- 이로 인해 중심-가장자리 색 캐스트가 발생하며 ISP에서 보정 필요

::: tip
ML 시프트 비율 1.0은 완벽한 CRA 보상을 의미합니다. 실제 센서는 제조 제약으로 0.6-0.8 수준입니다.
:::
