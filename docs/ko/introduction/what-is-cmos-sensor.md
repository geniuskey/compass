# CMOS 이미지 센서란?

스마트폰으로 찍는 모든 사진, 보안 카메라에서 녹화되는 모든 프레임, 자율주행차가 포착하는 모든 이미지 -- 이 모든 것은 동일한 곳에서 시작됩니다. 바로 **이미지 센서(image sensor)**라고 불리는 작은 칩입니다. 이 칩은 카메라 렌즈 뒤에 위치하여 초당 수백만 번 빛을 전기 신호로 변환합니다. 이 칩이 어떻게 작동하는지 이해하는 것이 COMPASS가 무엇을 시뮬레이션하며, 왜 그것이 중요한지를 이해하는 첫 번째 단계입니다.

큰 그림에서 시작해서 개별 픽셀(pixel)까지 들어가 보겠습니다.

---

## 카메라에서 픽셀까지

카메라의 셔터 버튼을 누르면 (또는 스마트폰 카메라 앱을 열면) 다음과 같은 일이 일어납니다:

1. **장면에서 나온 빛**이 카메라 렌즈를 통과합니다.
2. 렌즈가 그 빛을 평평한 칩 -- **이미지 센서** -- 위에 초점을 맞춥니다.
3. 이미지 센서는 격자 형태로 배열된 **수백만 개의 작은 광검출기**로 덮여 있습니다. 마치 모자이크와 같습니다.
4. 각각의 작은 검출기를 **픽셀(pixel)**이라고 합니다. 픽셀은 자신에게 도달하는 빛의 양을 측정합니다.
5. 모든 픽셀에서 나온 전기 신호가 읽히고, 처리되고, 조합되어 화면에 보이는 이미지가 됩니다.

이미지 센서를 모눈종이라고 생각하면, 각각의 작은 칸이 독립적으로 밝기를 측정하는 것입니다. 1200만 화소 센서에는 이런 칸이 1200만 개 있으며, 각각이 장면의 작은 조각을 포착합니다.

스케일을 가늠해 봅시다: 현대 스마트폰 이미지 센서는 보통 약 6 mm x 4 mm -- 손톱보다 작습니다. 그럼에도 이 작은 면적에 5000만 개 이상의 픽셀을 담고 있습니다. 풀프레임 DSLR 센서는 훨씬 크지만(36 mm x 24 mm), 원리는 동일합니다: 더 많은 픽셀은 더 많은 디테일을 의미하지만, 각 픽셀은 깨끗한 신호를 생성하기에 충분한 빛을 포착해야 합니다.

핵심 포인트는 이것입니다: **이미지 품질은 픽셀에서 시작됩니다.** 색 정확도, 저조도 성능, 다이내믹 레인지, 선명도 -- 모든 것이 각 픽셀이 빛을 얼마나 잘 포착하느냐에 달려 있습니다. 이것이 픽셀 설계가 중요한 이유이며, COMPASS가 연구에 도움을 주는 바로 그 부분입니다.

---

## CMOS 이미지 센서란?

디지털 카메라에 사용되어 온 이미지 센서는 크게 두 가지 종류가 있습니다:

### CCD (전하결합소자, Charge-Coupled Device)

CCD는 1970년대부터 2000년대 초반까지 주류였던 최초의 디지털 이미지 센서 기술입니다. 우수한 이미지 품질을 생산하지만 특수한 제조 공정이 필요하고 상대적으로 전력 소비가 높습니다. CCD를 물 양동이 릴레이라고 생각하면 됩니다 -- 전하가 픽셀에서 픽셀로 체인처럼 전달되어 하나의 출력 증폭기에 도달합니다.

### CMOS (상보형 금속산화물 반도체, Complementary Metal-Oxide-Semiconductor)

CMOS 센서는 컴퓨터 프로세서와 동일한 제조 공정을 사용합니다. 각 픽셀이 자체 증폭기를 가지고 있어 개별적으로 읽을 수 있습니다. 마치 경기장의 모든 사람에게 각자의 마이크를 주는 것과 같습니다 -- 하나의 마이크를 돌려쓰는 것이 아니라요.

### CMOS가 승리한 이유

2000년대 중반까지 CMOS 센서는 거의 모든 응용 분야에서 CCD를 넘어섰습니다. 그 이유는 다음과 같습니다:

- **집적화(integration)**: CMOS 센서는 픽셀과 동일한 칩 위에 처리 회로를 포함할 수 있습니다. 신호 처리, 아날로그-디지털 변환, 그리고 일부 이미지 처리까지 센서 위에서 수행할 수 있습니다.
- **비용(cost)**: CMOS는 표준 반도체 공정을 사용하므로 컴퓨터 칩과 동일한 규모의 경제 효과를 누립니다. 특수한 제조 라인이 필요 없습니다.
- **속도(speed)**: 각 픽셀이 자체 증폭기를 가지므로, 픽셀을 순차적이 아닌 병렬로 읽을 수 있습니다. 이를 통해 높은 프레임 레이트가 가능합니다.
- **전력(power)**: CMOS 센서는 전력 소비가 현저히 적어, 스마트폰과 배터리 기기에 매우 중요합니다.

오늘날 스마트폰에서 DSLR, 의료 영상 장비까지 거의 모든 소비자용 카메라가 CMOS 이미지 센서를 사용합니다. 시장 전환은 결정적이었습니다: 2020년까지 CMOS 센서는 전 세계 출하 이미지 센서의 99% 이상을 차지했습니다.

이 문서에서 "이미지 센서"라고 말할 때는 CMOS를 의미합니다.

---

## 픽셀(Pixel): 기본 단위

CMOS 이미지 센서의 단일 픽셀은 놀랍도록 작은 공간에 담긴 정교한 공학 작품입니다. 최신 스마트폰 픽셀은 한 변이 0.56 마이크로미터(um)까지 작아졌습니다 -- 이는 사람 머리카락 두께의 약 100분의 1입니다.

이렇게 작은 크기에도 불구하고, 각 픽셀은 여러 기능 구성 요소가 층층이 쌓여 있습니다:

- **마이크로렌즈(microlens)**: 픽셀 상단의 작은 돔 모양 렌즈로, 들어오는 빛을 활성 영역으로 집중시킵니다. 이것이 없으면 많은 빛이 픽셀 사이의 틈에 부딪혀 낭비됩니다. 마이크로렌즈는 일반적으로 투명한 폴리머로 만들어지며 작은 돔 또는 반구 모양을 하고 있습니다. 곡률과 높이는 중요한 설계 파라미터입니다.
- **컬러 필터(color filter)**: 특정 파장(색)의 빛만 통과시키는 얇은 층입니다. 대부분의 센서는 **베이어 패턴(Bayer pattern)**을 사용합니다 -- 빨강 1개, 파랑 1개, 초록 2개로 구성된 반복되는 2x2 격자입니다. (초록이 2개인 이유는 인간의 눈이 초록에 가장 민감하기 때문입니다.) 컬러 필터 배열은 단일 칩 센서가 컬러 이미지를 캡처할 수 있게 해주는 요소입니다.
- **산화물/부동태화층(oxide/passivation layers)**: 전기적 절연과 광학적 간격을 제공하는 얇은 투명 층(일반적으로 이산화규소, SiO2)입니다. 수동적으로 보이지만, 정확한 두께가 빛 파동의 간섭 방식에 영향을 미쳐 -- 겉보기에 작은 변화가 성능에 큰 영향을 줄 수 있습니다.
- **금속 배선층(metal wiring layers)**: 픽셀에서 신호를 전달하는 전기 연결부입니다. 이들은 불투명하므로, 빛을 차단하지 않도록 픽셀 구조를 설계해야 합니다. 현대 BSI 센서에서는 금속이 실리콘 뒤에 배치되지만, 일부 설계에서는 광학적 크로스토크를 방지하기 위해 픽셀 사이에 금속 트렌치(metal trench)를 사용합니다.
- **포토다이오드(photodiode)**: 마법이 일어나는 실리콘 영역입니다. 빛의 광자(photon)가 실리콘에 들어오면, 전자(electron)를 하나 떼어낼 수 있습니다(광전 흡수, photoelectric absorption라는 과정). 픽셀은 이 떨어져 나온 전자들을 모아서 셉니다. 광자가 많을수록 = 전자가 많을수록 = 더 밝은 픽셀이 됩니다.

픽셀을 빗물을 받는 작은 양동이라고 생각해 보세요 -- 다만 빗방울 대신 광자(photon)를 받습니다. 마이크로렌즈는 양동이 위의 깔때기로, 더 많은 빗방울을 양동이 안으로 보내줍니다. 컬러 필터는 특정 크기의 빗방울만 통과시키는 그물과 같습니다. 그리고 포토다이오드가 바로 양동이 그 자체로, 도달한 것을 모으고 세는 역할을 합니다.

### 베이어 패턴(Bayer Pattern): 픽셀이 색을 보는 방법

단일 픽셀은 받은 빛의 총량만 측정할 수 있을 뿐 -- 스스로 색을 구별하지 못합니다. 색을 캡처하기 위해, 대부분의 이미지 센서는 **베이어 컬러 필터 배열(Bayer color filter array)**을 사용합니다: 반복되는 2x2 패턴으로 픽셀 격자 위에 놓인 빨강, 초록, 파랑 필터의 모자이크입니다:

```
 G  R  G  R  G  R
 B  G  B  G  B  G
 G  R  G  R  G  R
 B  G  B  G  B  G
```

각 픽셀은 하나의 색상만 봅니다. 풀컬러 이미지는 **디모자이킹(demosaicing)**이라는 과정을 통해 재구성됩니다. 이 과정은 이웃 픽셀의 색상 정보를 사용하여 각 위치에서 빠진 색상을 추정합니다.

초록 픽셀이 빨강이나 파랑의 두 배인 것을 주목하세요. 이는 인간 시각 시스템과 일치하는데, 인간의 눈은 초록빛에 가장 민감하며 디테일과 밝기를 인지하는 데 초록을 많이 사용합니다.

COMPASS에서 2x2 단위 셀(unit cell)을 시뮬레이션할 때, 정확히 하나의 베이어 패턴 반복을 시뮬레이션하는 것입니다: 빨강 1개, 파랑 1개, 초록 2개의 픽셀을 함께.

<PhotonJourneyAnimation />

---

## BSI vs FSI: 어느 쪽이 위인가?

현대 이미지 센서 기술에서 가장 중요한 발전 중 하나는 **후면 조사(BSI, Backside Illumination)**입니다. 왜 그런지 이해하기 위해, 먼저 이전 방식을 살펴보겠습니다.

### FSI (전면 조사, Frontside Illumination)

전통적인 FSI 센서에서 빛은 금속 배선층과 **같은 면**에서 들어옵니다. 양동이로 빗물을 받으려 하는데, 양동이 위에 금속 파이프 정글짐이 있는 상황을 상상해 보세요. 빗방울 중 일부는 파이프에 부딪혀 양동이에 도달하지 못합니다. 마찬가지로 FSI 센서에서는 금속 배선이 빛이 포토다이오드에 도달하기 전에 부분적으로 차단하고 산란시킵니다.

픽셀이 컸을 때(5 um 이상)는 큰 문제가 아니었습니다 -- 배선 사이에 충분한 열린 공간이 있었기 때문입니다. 하지만 픽셀이 2 um 아래로 줄어들면서, 금속 배선이 들어오는 빛의 상당 부분을 차단하기 시작했습니다.

### BSI (후면 조사, Backside Illumination)

BSI는 센서를 뒤집어 놓습니다. 실리콘 웨이퍼의 뒷면을 얇게 깎고, 빛이 **뒷면** -- 금속 배선이 **없는** 면 -- 에서 들어옵니다. 이제 광자는 아무것도 방해받지 않고 직접 실리콘 포토다이오드로 이동합니다.

간단한 비교도입니다:

```
FSI (이전 방식):                BSI (현대 방식):

  빛 ↓                          빛 ↓
  ──────────────                ──────────────
  컬러 필터                      컬러 필터
  ──────────────                ──────────────
  금속 배선 ← 빛을 차단!         실리콘 (포토다이오드)
  ──────────────                ──────────────
  실리콘 (포토다이오드)           금속 배선 ← 실리콘 뒤에 위치
  ──────────────                ──────────────
```

### BSI가 현재 표준인 이유

BSI는 작은 픽셀에 대해 여러 가지 주요 이점을 제공합니다:

- **더 높은 감도(sensitivity)**: 빛 경로를 차단하는 금속 배선이 없습니다.
- **더 나은 각도 응답(angular response)**: 비스듬히 들어오는 빛이 금속 가장자리에 의해 잘리지 않습니다.
- **향상된 균일성(uniformity)**: 센서 영역 전체에서 보다 일관된 성능을 보입니다.

2010년경 이후, BSI는 스마트폰 이미지 센서의 표준이 되었으며, 더 큰 센서에서도 점점 더 많이 사용되고 있습니다. 제조 공정에는 실리콘 웨이퍼의 뒷면을 약 2-3 마이크로미터 두께로 얇게 깎는 추가 단계가 필요하지만, 작은 픽셀에 대한 광학적 이점은 충분히 그만한 가치가 있습니다.

현대 BSI 센서의 추가적인 특징 중 하나는 **딥 트렌치 격리(DTI, Deep Trench Isolation)**입니다: 인접한 픽셀 사이에 실리콘을 관통하여 수직으로 연장되는, 산화물이나 금속으로 채워진 좁은 트렌치입니다. 이 트렌치는 광학적 벽 역할을 하여 빛이 한 픽셀에서 이웃 픽셀로 옆으로 새는 것을 방지합니다. DTI는 크로스토크가 심각해질 수 있는 작은 픽셀에서 특히 중요합니다.

**COMPASS는 주로 BSI 픽셀 구조를 시뮬레이션합니다.** 물론 FSI 구성도 지원됩니다.

---

## 왜 시뮬레이션이 필요한가?

엔지니어들이 수십 년간 이미지 센서를 만들어 왔는데, 왜 컴퓨터 시뮬레이션이 필요한지 궁금할 수 있습니다. 그 답은 픽셀 크기의 끊임없는 축소에 있습니다.

### 줄어드는 픽셀

더 높은 해상도와 더 작은 카메라 모듈에 대한 요구는 픽셀 크기를 극적으로 줄여왔습니다:

| 연도 (대략) | 픽셀 피치(pitch) | 주요 기기 |
|---|---|---|
| 2005 | 2.2 um | 초기 스마트폰 카메라 |
| 2010 | 1.4 um | iPhone 4 시대 |
| 2015 | 1.0 um | 주류 스마트폰 |
| 2020 | 0.7 um | 고해상도 센서 |
| 2023+ | 0.56 um | 2억 화소 스마트폰 센서 |

### 픽셀이 줄어들면 파동 광학이 중요해진다

핵심적인 점은 이것입니다: **가시광선의 파장은 약 0.4 um에서 0.7 um 사이입니다.** 픽셀이 2 um 크기일 때는 하나의 픽셀이 파장의 여러 배 너비였으므로, 단순한 광선 추적(기하 광학)으로도 빛의 거동을 상당히 잘 예측할 수 있었습니다.

하지만 픽셀 피치가 빛의 파장에 가까워지거나 그보다 작아지면, 근본적인 변화가 일어납니다. 빛은 더 이상 단순한 광선처럼 행동하지 않습니다. 대신 **파동 효과(wave effects)**가 지배적이 됩니다:

- **회절(diffraction)**: 빛이 가장자리 주위에서 휘어지고 퍼집니다. 파장보다 작은 마이크로렌즈는 기하 광학이 예측하는 방식으로 빛을 집중시킬 수 없습니다.
- **간섭(interference)**: 서로 다른 층에서 반사된 빛의 파동이 합쳐져(보강 간섭) 또는 상쇄될(소멸 간섭) 수 있습니다. 각 층의 두께가 나노미터 수준에서 중요합니다.
- **누설(coupling)**: 한 픽셀을 위한 빛이 파동 효과를 통해 이웃 픽셀로 새어나갈 수 있습니다(크로스토크). 광선 추적으로는 이를 포착할 수 없습니다.

이는 0.7 um 또는 0.56 um 픽셀을 설계하려면 직관이나 단순한 광학 모델에 의존할 수 없다는 것을 의미합니다. 맥스웰 방정식(Maxwell's equations)을 풀어주는 **풀 전자기(EM) 시뮬레이션**이 필요합니다.

### 왜 직접 만들어서 테스트하지 않는가?

이미지 센서의 물리적 프로토타입 제작은:

- **비용이 큽니다**: 새로운 센서 설계를 제작하는 데 수백만 달러가 듭니다.
- **느립니다**: 하나의 제작 주기가 수개월이 걸립니다.
- **제한적입니다**: 제작한 정확한 설계만 테스트할 수 있습니다. 약간 다른 마이크로렌즈 형상을 시도하고 싶다면? 그것은 또 다른 제작 사이클입니다.

반면 시뮬레이션은:

- **빠릅니다**: 파장 스윕(sweep)이 워크스테이션에서 수 분에서 수 시간이면 되며, 수개월이 아닙니다.
- **저렴합니다**: 계산 비용은 제작 비용의 극히 일부입니다.
- **유연합니다**: 어떤 파라미터든 -- 픽셀 피치, 층 두께, 마이크로렌즈 곡률, 컬러 필터 재료 -- 변경하고 즉시 다시 실행할 수 있습니다.
- **통찰력을 줍니다**: 시뮬레이션은 픽셀 내부의 전체 전자기장 분포를 제공합니다. 빛이 어디로 가는지, 어디서 손실되는지, 왜 그런지를 정확히 볼 수 있습니다. 물리적 측정은 최종 출력만 알려줄 뿐, 내부 거동은 알 수 없습니다.

### 전자기 시뮬레이션의 역할

COMPASS가 수행하는 시뮬레이션 유형을 **전자기(EM) 시뮬레이션** 또는 **풀파동(full-wave) 시뮬레이션**이라고 합니다. 이는 정의한 특정 픽셀 형상과 재료에 대해 전기장과 자기장의 거동을 기술하는 기본 방정식인 맥스웰 방정식(Maxwell's equations)을 풀어낸다는 뜻입니다.

COMPASS에서 사용되는 EM 시뮬레이션 방법은 크게 두 가지 계열이 있습니다:

- **RCWA (엄밀 결합파 해석, Rigorous Coupled-Wave Analysis)**: 주파수 영역(한 번에 하나의 파장)에서 작동합니다. 동일한 패턴이 센서 전체에서 반복되는 주기적 구조인 픽셀 배열에 매우 효율적입니다. RCWA는 필드를 푸리에 하모닉으로 분해하고 각 층을 통해 전파합니다.
- **FDTD (유한차분 시간영역법, Finite-Difference Time-Domain)**: 시간을 단계적으로 진행하면서 전자기장이 어떻게 변하는지 추적하는 시간 영역 방법입니다. 단일 FDTD 실행으로 여러 파장에 걸친 응답을 한 번에 포착할 수 있습니다. 기하학적으로 더 유연하지만 일반적으로 계산 비용이 더 높습니다.

COMPASS를 사용하기 위해 이 방법들의 수학적 세부사항을 이해할 필요는 없습니다 -- 플랫폼이 솔버 설정과 실행을 처리합니다. 하지만 이것들이 근사나 광선 추적이 아닌 엄밀한 제1원리(first-principles) 방법이라는 것을 알면 결과의 정확도와 신뢰성을 이해하는 데 도움이 됩니다.

---

## COMPASS가 하는 일

COMPASS는 CMOS 이미지 센서 픽셀을 위해 특별히 설계된 시뮬레이션 플랫폼입니다. 다음은 워크플로우입니다:

### 1. 픽셀 정의하기

단일 **YAML 설정 파일**로 픽셀 구조를 기술합니다. 여기에는 픽셀 피치, 마이크로렌즈 형상, 컬러 필터 재료, 산화물 층, 금속 트렌치, 실리콘 두께가 포함됩니다. 하나의 파일이 전체 픽셀 설계를 담습니다.

```yaml
pixel:
  pitch: 1.0        # 픽셀 크기 (마이크로미터 단위)
  unit_cell: [2, 2]  # 2x2 베이어 패턴 시뮬레이션

  layers:
    - name: microlens
      type: microlens
      height: 0.6
    - name: color_filter
      type: color_filter
      thickness: 0.6
    - name: oxide
      type: planar
      material: SiO2
      thickness: 0.2
    - name: silicon
      type: photodiode
      material: Si
      thickness: 3.0
```

### 2. 솔버 선택하기

COMPASS는 통합 인터페이스를 통해 다양한 전자기 솔버를 지원합니다:

- **RCWA 솔버** (엄밀 결합파 해석, Rigorous Coupled-Wave Analysis): torcwa, grcwa, meent -- 주기적 픽셀 배열에 이상적인 빠른 주파수 영역 방법입니다.
- **FDTD 솔버** (유한차분 시간영역법, Finite-Difference Time-Domain): flaport -- 단일 실행으로 광대역 거동을 포착하는 시간 영역 방법입니다.

동일한 픽셀 설계를 다른 솔버로 실행하고 결과를 비교하여 확신을 얻을 수 있습니다. 이 **교차 검증(cross-validation)** 기능은 COMPASS의 고유한 강점 중 하나입니다 -- 두 개의 독립적인 솔버가 QE에 대해 일치한다면, 하나의 솔버만 사용했을 때보다 결과에 훨씬 더 확신을 가질 수 있습니다.

### 3. 시뮬레이션 실행하기

하나의 Python 명령어(또는 스크립트)로 시뮬레이션을 실행합니다. COMPASS가 픽셀 기술을 솔버의 내부 표현으로 변환하고, 계산을 수행하며, 결과를 수집하는 것을 처리합니다.

### 4. 결과 분석하기

COMPASS는 다음을 계산하고 시각화합니다:

- **양자 효율(QE, Quantum Efficiency)**: 들어오는 광자 중 실제로 각 픽셀에 포착되는 비율은 얼마인가? 이것이 픽셀 성능을 나타내는 가장 중요한 지표입니다.
- **크로스토크(crosstalk)**: 한 픽셀을 위한 빛이 이웃 픽셀에 얼마나 도달하는가? 낮을수록 좋습니다.
- **필드 분포(field distributions)**: 픽셀 내부의 전자기장에 대한 2D 또는 3D 전체 맵으로, 빛이 정확히 어디로 가는지 보여줍니다.
- **에너지 균형(energy balance)**: 모든 빛이 설명되는지 검증합니다 (반사 + 투과 + 흡수 = 100%).

---

## 주요 지표 한눈에 보기

더 깊이 들어가기 전에, COMPASS에서 가장 자주 마주치는 세 가지 지표를 소개합니다:

### 양자 효율 (QE, Quantum Efficiency)

QE는 다음 질문에 대한 답입니다: "이 픽셀에 도달한 모든 광자 중, 실제로 검출되는 비율은 얼마인가?" QE가 80%라는 것은 100개의 광자 중 80개가 성공적으로 전기 신호를 생성한다는 뜻입니다. 높을수록 좋습니다. QE는 파장에 따라 다릅니다 -- 한 픽셀이 초록 빛에는 85% QE를 보이지만 파란 빛에는 40% QE만 보일 수 있습니다.

### 크로스토크 (Crosstalk)

크로스토크는 한 픽셀에서 이웃 픽셀로 빛이 얼마나 새는지를 측정합니다. 초록 픽셀에 집중된 빔을 쏘았는데 에너지의 5%가 인접한 빨강 픽셀에 도달한다면, 이것이 5% 광학 크로스토크입니다. 이는 색상 오류를 일으키고 이미지 선명도를 떨어뜨립니다. 작은 픽셀일수록 크로스토크 위험이 높으며, 이것이 작은 픽셀 피치에서 시뮬레이션이 매우 중요한 이유 중 하나입니다.

### 각도 응답 (Angular Response)

실제 카메라의 빛은 항상 수직으로 도달하지 않습니다. 센서 가장자리의 빛은 상당한 각도(30도 이상)로 도달합니다. 각도 응답은 입사광의 각도가 커질 때 픽셀이 얼마나 잘 동작하는지를 측정합니다. 좋은 픽셀 설계는 큰 각도에서도 높은 QE와 낮은 크로스토크를 유지합니다.

각도가 왜 중요할까요? 카메라에서 메인 렌즈는 이미지를 센서 평면에 투사합니다. 센서 중앙 근처의 픽셀은 거의 수직으로(수직 입사, normal incidence) 도달하는 빛을 받습니다. 하지만 가장자리와 모서리 근처의 픽셀은 비스듬히 빛을 받습니다 -- 이를 **주광선 각도(CRA, Chief Ray Angle)**라고 합니다. 렌즈 모듈이 매우 얇아야 하는 스마트폰 카메라에서, CRA는 센서 모서리에서 25-35도에 달할 수 있습니다. 픽셀이 이러한 각도를 잘 처리하도록 설계되지 않으면, 사진의 모서리가 중앙보다 어둡게 나타나고 색상이 나빠집니다.

COMPASS는 모든 입사각에서 픽셀 성능을 시뮬레이션할 수 있으며, 각도 범위에 걸쳐 스윕하여 완전한 각도 응답 곡선을 생성할 수도 있습니다.

---

## 광자의 하루: 픽셀을 통과하는 여행

모든 것을 종합하기 위해, BSI 픽셀을 통과하는 하나의 광자의 여행을 따라가 봅시다:

1. **도착**: 초록 광자(파장 ~550 nm)가 장면에서 카메라 렌즈를 통과하여 센서 표면에 도달합니다.

2. **마이크로렌즈**: 광자가 곡면 마이크로렌즈 표면에 부딪힙니다. 렌즈가 경로를 휘어, 옆으로 빗나가지 않고 픽셀 중심을 향하도록 합니다.

3. **컬러 필터**: 광자가 초록 컬러 필터를 통과합니다. 만약 빨간 광자가 초록 픽셀에 도달했다면, 필터에 흡수되어 더 이상 진행하지 못했을 것입니다 -- 이것이 색 선택성(color selectivity)이 작동하는 방식입니다.

4. **산화물 층**: 광자가 하나 이상의 얇은 산화물 층을 통과합니다. 각 계면에서 반사될 확률이 약간 있습니다. 이 층들의 두께는 반사파가 소멸 간섭(destructive interference)하도록 조절되어 손실을 최소화합니다.

5. **실리콘 진입**: 광자가 실리콘에 진입합니다. 굴절률(refractive index)이 약 1.5(산화물)에서 약 4.0(실리콘)으로 급격히 변합니다. 이 계면의 반사 방지 코팅(anti-reflection coating)이 그렇지 않으면 18%가 될 반사 손실을 줄여줍니다.

6. **흡수**: 실리콘의 처음 1-2 마이크로미터 내에서 초록 광자가 흡수됩니다. 그 에너지가 결정 격자에서 전자를 떼어내어 전자-정공 쌍(electron-hole pair)을 생성합니다.

7. **수집**: 자유로워진 전자가 실리콘 내의 전기장에 의해 안내되어 픽셀의 수집 웰(collection well)로 이동합니다. 딥 트렌치 격리(DTI)가 있다면, 전자가 이웃 픽셀로 들어가는 것이 방지됩니다.

8. **신호**: 수집된 전자가 픽셀의 저장된 전하에 기여합니다. 노출이 완료되면, 이 전하가 전압으로 읽히고, 디지털화되어, 최종 이미지의 작은 한 조각이 됩니다.

이 전체 여행은 10억분의 1초도 걸리지 않습니다. COMPASS는 1단계부터 6단계까지 -- 빛과 픽셀 구조의 전자기적 상호작용 -- 를 상세하게 시뮬레이션하여, 엔지니어들이 최대 광자 포착을 위해 각 층을 최적화할 수 있게 합니다.

---

## 다음 단계

CMOS 이미지 센서가 무엇이고 왜 시뮬레이션이 중요한지에 대한 큰 그림을 이해했으니, 다음 단계를 추천합니다:

- **[초보자를 위한 광학 입문](./optics-primer.md)** -- 모든 COMPASS 시뮬레이션의 기반이 되는 기본 광학 개념(파장, 굴절률, 간섭)을 배웁니다. 사전 물리 지식이 필요 없습니다.
- **[픽셀 구조 분석](/theory/image-sensor-optics)** -- 현대 BSI 픽셀의 각 층과 각 계면에서의 물리를 더 깊이 살펴봅니다.
- **[첫 번째 시뮬레이션](/guide/first-simulation)** -- 단계별 가이드와 함께 첫 COMPASS 시뮬레이션을 바로 실행해 봅니다.
- **[설치 가이드](/guide/installation)** -- COMPASS와 솔버 백엔드를 설치합니다.

---

*이 페이지는 이미지 센서 광학에 대한 사전 배경 지식이 없는 독자를 위해 작성된 COMPASS 소개 시리즈의 일부입니다. 모든 기술 용어는 등장할 때 소개됩니다.*
